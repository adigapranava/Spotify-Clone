(this["webpackJsonpspotify-app"]=this["webpackJsonpspotify-app"]||[]).push([[0],{27:function(t,e,a){},47:function(t,e,a){"use strict";a.r(e);var s=a(1),c=a.n(s),n=a(19),r=a.n(n),i=a(4),o=a.n(i),l=a(6),j=a(5),g=a(3),u=a.p+"static/media/logo.166f1e38.png",d=a(0);function b(){return Object(d.jsx)("div",{className:"headder item item1",children:Object(d.jsxs)("div",{className:"headder-text",children:[Object(d.jsx)("img",{src:u,alt:"logo"}),Object(d.jsx)("h2",{children:"Spotify Clone"})]})})}var f=function(t){var e,a=t.artist,s=(a.id,a.name),c=a.imgUrl,n=a.followers;return Object(d.jsxs)("div",{className:"selected-artist",children:[Object(d.jsx)("div",{className:"img",children:Object(d.jsx)("img",{src:"".concat(c),alt:"".concat(s)})}),Object(d.jsxs)("div",{className:"profile",children:[Object(d.jsx)("h2",{children:"".concat(s)}),Object(d.jsx)("p",{children:"".concat((e=n,e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))," monthly listeners")}),Object(d.jsx)("button",{className:"".concat(t.followingArtist(t.artist)?"following":"follow"),onClick:function(){return t.toggleFavoriteArtist(t.artist)},children:"".concat(t.followingArtist(t.artist)?"following":"follow")})]})]})};var m=function(t){var e=t.track,a=e.id,s=e.name,c=e.priviewUrl,n=e.imgUrl,r=e.releaseDate,i=new Date(r);return Object(d.jsxs)("div",{className:"track ".concat(t.isSongFav(t.track)?"liked":""),onDoubleClick:function(){t.toggleFavSong(t.track)},onClick:function(){c?t.setSong(t.track):alert("Sorry we cant play this try other songs : )")},children:[Object(d.jsx)("img",{src:"".concat(n),alt:"".concat(s),srcset:""}),Object(d.jsxs)("div",{className:"track-name",children:[Object(d.jsx)("h4",{children:"".concat(s)}),Object(d.jsx)("p",{children:"".concat(i.getFullYear()," \u2022 Album")})]}),t.song&&t.song.id===a?Object(d.jsx)("div",{className:"currently-playing"}):""]})};var v=function(t){var e=Object(s.useState)(""),a=Object(g.a)(e,2),c=a[0],n=a[1],r=Object(s.useState)(!1),i=Object(g.a)(r,2),j=i[0],u=i[1],b=function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),u(!0),e.next=4,t.searchForArtist(c);case 4:u(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"item item3",children:[Object(d.jsx)("div",{className:"item3-search",children:Object(d.jsxs)("form",{onSubmit:b,children:[Object(d.jsx)("input",{type:"text",name:"",id:"searchArtist",placeholder:"Search By Artist",value:c,onChange:function(t){n(t.target.value)},autoFocus:!0}),Object(d.jsx)("label",{htmlFor:"searchArtist",children:Object(d.jsx)("i",{className:"fa fa-search"})})]})}),Object(d.jsx)("div",{className:"artist-stage",children:j?Object(d.jsx)("div",{class:"loader"}):t.artist?Object(d.jsx)(f,{followingArtist:t.followingArtist,toggleFavoriteArtist:t.toggleFavoriteArtist,artist:t.artist}):Object(d.jsx)("div",{children:Object(d.jsx)("h1",{style:{color:"#a3a3a3"},children:"Nothing To Show : ("})})}),Object(d.jsx)("div",{className:"tracks-stage",children:j?Object(d.jsx)("div",{}):t.tracks.map((function(e){return Object(d.jsx)(m,{track:e,setSong:t.setSong,song:t.song,toggleFavSong:t.toggleFavSong,isSongFav:t.isSongFav},e.id)}))})]})};var O=function(t){var e=t.artist,a=(e.id,e.name),s=e.imgUrl;return Object(d.jsxs)("div",{className:"item2-artist",onClick:function(){return t.setArtist(t.artist)},children:[Object(d.jsx)("img",{src:"".concat(s),alt:"".concat(a)}),Object(d.jsx)("p",{children:"".concat(a)})]})};var h=function(t){var e=t.artists.map((function(e){return Object(d.jsx)(O,{artist:e,setArtist:t.setArtist},e.id)}));return Object(d.jsxs)("div",{className:"item2-part",children:[Object(d.jsx)("div",{className:"item2-head",children:Object(d.jsx)("h4",{children:"Artists You Follow"})}),Object(d.jsx)("div",{className:"fav-artists-div",children:t.artists.length>0?e:Object(d.jsxs)("h3",{style:{color:"#a3a3a3"},children:["You Follow No Artist!?",Object(d.jsx)("br",{}),": ("]})})]})};var x=function(t){var e=t.song,a=e.id,s=e.name,c=e.imgUrl,n=e.releaseDate,r=new Date(n);return Object(d.jsxs)("div",{className:"fav-song",onDoubleClick:function(){t.toggleFavSong(t.song)},onClick:function(){return t.setSong(t.song)},children:[Object(d.jsx)("div",{className:"fav-song-img",children:Object(d.jsx)("img",{src:"".concat(c),alt:""})}),Object(d.jsxs)("div",{className:"track-name",children:[Object(d.jsx)("h4",{children:"".concat(s)}),Object(d.jsx)("p",{children:"".concat(r.getFullYear()," \u2022 Album")}),t.playingSong&&t.playingSong.id==a?Object(d.jsx)("div",{className:"currently-playing"}):""]})]})};var p=function(t){var e=t.favSongs.map((function(e){return Object(d.jsx)(x,{song:e,playingSong:t.song,toggleFavSong:t.toggleFavSong,setSong:t.setSong},e.id)}));return Object(d.jsxs)("div",{className:"item2-part",children:[Object(d.jsx)("div",{className:"item2-head",children:Object(d.jsx)("h4",{children:"Songs You \ud83e\udd0d"})}),Object(d.jsx)("div",{className:"fav-songs-div",children:t.favSongs.length>0?e:Object(d.jsxs)("h3",{style:{color:"#a3a3a3",display:"flex",justifyContent:"center",alignContent:"center"},children:["You \ud83d\udda4 No Songs!?",Object(d.jsx)("br",{}),": ("]})})]})};var S=function(t){return Object(d.jsxs)("div",{className:"item2 item",children:[Object(d.jsx)(h,{artists:t.favArtist,setArtist:t.setArtist}),Object(d.jsx)(p,{favSongs:t.favSongs,song:t.song,setSong:t.setSong,toggleFavSong:t.toggleFavSong})]})};var N=function(t){var e=t.song,a=(e.id,e.name),s=e.imgUrl,c=e.releaseDate,n=new Date(c);return Object(d.jsx)("div",{className:"music-player",children:Object(d.jsxs)("div",{className:"top",children:[Object(d.jsx)("div",{className:"img",children:Object(d.jsx)("img",{src:"".concat(s),alt:"".concat(a),srcset:""})}),Object(d.jsxs)("div",{className:"track-name",children:[Object(d.jsx)("h4",{children:"".concat(a)}),Object(d.jsx)("p",{children:"".concat(n.getFullYear()," \u2022 Album")})]}),Object(d.jsxs)("div",{className:"play-like",children:[Object(d.jsx)("div",{className:"play-icon",onClick:function(){t.audio.paused?(t.setPlaying(!0),t.audio.play()):(t.setPlaying(!1),t.audio.pause())},children:Object(d.jsx)("i",{className:"fa ".concat(t.playing?"fa-pause":"fa-play")})}),Object(d.jsx)("div",{className:"like-icon",onClick:function(){t.toggleFavSong(t.song)},children:Object(d.jsx)("i",{className:"".concat(t.isSongFav(t.song)?"fas":"far"," fa-heart")})})]})]})})},y=(a(27),a(20)),k=a.n(y).a.create({baseURL:"https://spotify-artist-api.herokuapp.com/"});var w=function(){var t="favArtists",e="favSongs",a=JSON.parse(localStorage.getItem(t))||[],c=Object(s.useState)(a),n=Object(g.a)(c,2),r=n[0],i=n[1],u=JSON.parse(localStorage.getItem(e))||[],f=Object(s.useState)(),m=Object(g.a)(f,2),O=m[0],h=m[1],x=Object(s.useState)([]),p=Object(g.a)(x,2),y=p[0],w=p[1],A=Object(s.useState)(u),F=Object(g.a)(A,2),C=F[0],U=F[1],D=Object(s.useState)(),E=Object(g.a)(D,2),J=E[0],I=E[1],Y=Object(s.useState)(),B=Object(g.a)(Y,2),P=B[0],L=B[1],T=Object(s.useState)(!1),_=Object(g.a)(T,2),q=_[0],z=_[1],K=function(t){var e=!1;return r.forEach((function(a){a.id==t.id&&(e=!0)})),e},M=function(t){if(G(t)){var a=C.filter((function(e){return e.id!==t.id}));U(a),localStorage.setItem(e,JSON.stringify(a))}else U((function(a){return localStorage.setItem(e,JSON.stringify([t].concat(Object(j.a)(a)))),[t].concat(Object(j.a)(a))}))},R=function(){var t=Object(l.a)(o.a.mark((function t(e){var a,s,c,n,r,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!0,""!==e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,k.get("/artist/".concat(e)).catch((function(){a=!1}));case 5:if(s=t.sent,!a){t.next=19;break}if(!(c=(c=s.data).artists.items[0])){t.next=17;break}return n=c.name,r=c.id,i=c.followers.total,l=c.images[0]?c.images[0].url:"https://github.com/adigapranava/courseKart/blob/main/static/images/boy.png?raw=true",h({id:r,name:n,imgUrl:l,followers:i}),t.abrupt("return");case 17:t.next=20;break;case 19:alert("Sorry!! No Artist found for the qwery '"+e+"'");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(t){var e=t.id,a=!1;return C.forEach((function(t){t.id===e&&(a=!0)})),a};return Object(s.useEffect)(Object(l.a)(o.a.mark((function t(){var e,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!O){t.next=9;break}return w([]),t.next=4,k.get("/artist/".concat(O.id,"/top-tracks"));case 4:e=t.sent,a=e.data,s=[],a.tracks.forEach((function(t){var e=t.name,a=t.preview_url,c=t.album.images.length>0?t.album.images[0].url:"https://d1csarkz8obe9u.cloudfront.net/posterpreviews/neon-smoke-artistic-video-album-art-design-template-e46f6c8f94615dc12b347ad51ccc1cd0.jpg?ts=1591105904",n=t.id,r=t.album.release_date;s.push({id:n,name:e,priviewUrl:a,imgUrl:c,artist:O,releaseDate:r})})),w(s);case 9:case"end":return t.stop()}}),t)}))),[O]),Object(s.useEffect)((function(){P&&P.pause(),J&&L(new Audio(J.priviewUrl))}),[J]),Object(s.useEffect)((function(){P&&(P.play(),z(!0),P.addEventListener("ended",(function(){setTimeout((function(){I(),z(!1)}),2e3)})))}),[P]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(b,{}),Object(d.jsx)(S,{favArtist:r,setArtist:h,song:J,setSong:I,toggleFavSong:M,favSongs:C}),Object(d.jsx)(v,{searchForArtist:R,artist:O,tracks:y,song:J,setSong:I,followingArtist:K,toggleFavoriteArtist:function(e){if(K(e)){var a=r.filter((function(t){return t.id!==e.id}));localStorage.setItem(t,JSON.stringify(a)),i(a)}else i((function(a){return localStorage.setItem(t,JSON.stringify([].concat(Object(j.a)(a),[e]))),[e].concat(Object(j.a)(a))}))},toggleFavSong:M,isSongFav:G}),J&&Object(d.jsx)(N,{song:J,audio:P,playing:q,setPlaying:z,toggleFavSong:M,isSongFav:G})]})};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.93b3742b.chunk.js.map